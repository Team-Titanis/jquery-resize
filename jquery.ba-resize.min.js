/*!
 * jQuery resize event - v1.1 - 3/14/2010
 * http://benalman.com/projects/jquery-resize-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

(function($,window,undefined){"$:nomunge";var elems=[],jq_resize=$.resize=$.extend($.resize,{}),timeout_id,str_setTimeout="setTimeout",str_resize="resize",str_data=str_resize+"-special-event",str_delay="delay",str_pendingDelay="pendingDelay",str_activeDelay="activeDelay",str_throttle="throttleWindow";jq_resize[str_pendingDelay]=250;jq_resize[str_activeDelay]=20;jq_resize[str_delay]=jq_resize[str_pendingDelay];jq_resize[str_throttle]=true;$.event.special[str_resize]={setup:function(){if(!jq_resize[str_throttle]&&this[str_setTimeout]){return false}var elem=$(this);elems.push(elem[0]);elem.data(str_data,{w:elem.width(),h:elem.height()});if(elems.length===1){timeout_id=undefined;loopy()}},teardown:function(){if(!jq_resize[str_throttle]&&this[str_setTimeout]){return false}var elem=$(this);elems=$(elems).not(elem).toArray();elem.removeData(str_data);if(!elems.length){_cancelAnimationFrame(timeout_id);timeout_id=null}},add:function(handleObj){if(!jq_resize[str_throttle]&&this[str_setTimeout]){return false}var old_handler;function new_handler(e,w,h){var elem=$(this),data=elem.data(str_data)||{};data.w=w!==undefined?w:elem.width();data.h=h!==undefined?h:elem.height();old_handler.apply(this,arguments)}if($.isFunction(handleObj)){old_handler=handleObj;return new_handler}else{old_handler=handleObj.handler;handleObj.handler=new_handler}}};function loopy(){$(elems).each(function(){var elem=$(this);if(elem[0]==window||elem.is(":visible")){var width=elem.width(),height=elem.height(),data=elem.data(str_data);if(data&&(width!==data.w||height!==data.h)){jq_resize[str_delay]=jq_resize[str_activeDelay];elem.trigger(str_resize,[data.w=width,data.h=height])}else{jq_resize[str_delay]=jq_resize[str_pendingDelay]}}else{data=elem.data(str_data);data.w=0;data.h=0}});var _requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback,element){return window.setTimeout(callback,jq_resize[str_delay])}}();var _cancelAnimationFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}();if(timeout_id!==null)timeout_id=_requestAnimationFrame(loopy)}})(jQuery,window);
